<div class="alignment">
  <div class="panel panel-default">
    <div class="panel panel-heading">
      <% if @user_role=="student"%>
        <h5 class="panel-title " >Student SignUp</h5>
      <% elsif @user_role=="parent" %>
        <h5 class="panel-title " >Parent SignUp</h5>
      <% end %>  
    </div>
    <div class="panel-body">
      <% if @user_role == 'student' %>
        <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :validate => true) do |f| %>
          <%= devise_error_messages! %>
          <%= f.hidden_field :name, :value => "#{@student.student_name}"%>
          <%= f.hidden_field :role, :value => "#{@user_role}"%>
          <%= f.hidden_field :cpf, :value => "#{@student.cpf}"%>
          <div><%= f.label :email %><br />
          <%= f.email_field :email, :required => true, :pattern => '[^@]+@[^@]+\.[a-zA-Z]{2,6}' %></div>
          
          <div><%= f.label :phoneprefix %><br />
          <%= f.text_field :phoneprefix %></div>
          
          <div><%= f.label :phone %><br />
          <%= f.text_field :phone %></div>
          
          <div><%= f.label :password %><br />
          <%= f.password_field :password %></div>

          <div><%= f.label :password_confirmation %><br />
          <%= f.password_field :password_confirmation %></div>

          <div><%= f.submit "Sign up",class:"btn btn-normal", onclick:"return validate_form()" %></div>
        <% end %>
      <% end %>
      <% if @user_role == 'parent' %>
        <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
          <%= devise_error_messages! %>
          <%= f.hidden_field :role, :value => "#{@user_role}"%>
          <%= f.hidden_field :cpf, :value => "#{@student.cpf}"%>
          
          <div><%= f.label :name %><br />
          <%= f.text_field :name %></div>
          
          <div><%= f.label :email %><br />
          <%= f.email_field :email, :required => true, :pattern => '[^@]+@[^@]+\.[a-zA-Z]{2,6}' %></div>
          
          <div><%= f.label :gender %><br />
            <label>Male</label>
            <%= f.radio_button :gender, 'male' %>
            <label>Female</label>
            <%= f.radio_button :gender, 'female' %></br>
          </div>
          
          <div><%= f.label :birth_day %><br/>
          <%= f.text_field :birth_day %></div>
          
          <div><%= f.label :phoneprefix %><br />
          <%= f.text_field :phoneprefix %></div>
          
          <div><%= f.label :phone %><br />
          <%= f.text_field :phone %></div>
          
          <div><%= f.label :password %><br />
          <%= f.password_field :password, :required => true %></div>

          <div><%= f.label :password_confirmation %><br />
          <%= f.password_field :password_confirmation, :required => true %></div>

          <div><%= f.submit "Sign up",class:"btn btn-normal", onclick:"return validate_form()" %></div>
        <% end %>
      <% end %>  
      <%= render "devise/shared/links" %>
        
    </div>
  </div>
</div>

<script>

  function validate_form()
  { 
    if($('#user_password').val()!=$('#user_password_confirmation').val()){
      alert('Password not matches');
      return false;
     }
    return true;
  }
</script>
